var g=0;window.m=function(b){return{b:function(c,d,f){var e,i,k;e=d||{};e.method=c;e.o=b;e.q="json";c="flcb"+g++;e.r=c;i=document.createElement("script");window[c]=function(b){f(b);document.body.removeChild(i)};e=[];for(k in d)e.push(k+"="+d[k]);i.src="http://api.flickr.com/services/rest/?"+e.join("&");document.body.appendChild(i)}}};
function h(b){var c,b=j+b;if(l[b])return l[b].c-Date.now()>o?(localStorage.removeItem(b),delete l[b],!1):l[b].data;if(c=localStorage.getItem(b)){c=JSON.parse(c);if(Date.now()-parseInt(c.c,10)>o)return localStorage.removeItem(b),delete l[b],!1;l[b]=c;return c.data}}window.a={};var l={},o=864E5,j="ti";
window.a.g=function(b,c){var d;(d=h(b))?c(d.k.j):(d=new Flickr("b04fabc8322a5f5f45f5b172c9c176fd"),d.b("flickr.photos.search",{text:b,p:"url_z,owner_name",s:5,u:50},function(d){c(d.k.j);d={c:Date.now(),data:d};localStorage.setItem(j+b,JSON.stringify(d));l[b]=d}))};
function p(b){var c;c=document.querySelector(".hero-img");b=b[Math.floor(Math.random()*b.length)];c.innerHTML="";c.style.backgroundImage="url("+b.z+")";document.getElementById("imglink").href="http://www.flickr.com/photos/"+b.i+"/"+b.id;c=document.getElementById("attribution");c.href="http://www.flickr.com/photos/"+b.i;c.innerHTML=b.t}new Flickr("b04fabc8322a5f5f45f5b172c9c176fd");window.a.w=p;
window.a.f=function(b){var c,d=document.querySelector(".hero-img");d.style.background="#ccc";d.innerHTML="<p>Loading...</p>";birdData.g(b,function(b){c=b;p(c)})};window.n={b:function(b,c,d){var f=new XMLHttpRequest;f.open("get",b,!0);f.onreadystatechange=function(){4==this.readyState&&c.apply(d,[this])};f.send()}};function q(b,c){for(var d=r.length,f,e=0;e<d;e++)b.match(r[e].l)&&(f=r[e].scope?r[e].scope:window,c||history.pushState({},null,b),r[e].e.apply(f,[b]))}var r=[];
window.addEventListener("popstate",function(){q(window.location.href,!0)});window.v={h:q,d:function(b,c,d){r.push({l:b,e:c,scope:d})}};for(var s={},t=document.querySelectorAll(".nav-link"),u,w={},x=0,y=t.length;x<y;x++)u=t[x].href.match(/([a-z_]+\.html)/)[1],s[u]=t[x].getAttribute("data-latin");
router.d(/[a-z_]+\.html/,function(b){var c=b.match(/([a-z_]+\.html)/)[1];birdData.f(s[c]);w[c]?(document.querySelector(".content").innerHTML=w[c],console.timeEnd("click")):ajax.b(c.replace(".html","_frag.html"),function(b){document.querySelector(".content").innerHTML=b.responseText;w[c]=b.responseText;console.timeEnd("click")},this)});document.addEventListener("click",function(b){"nav-link"==b.target.className&&(console.time("click"),b.preventDefault(),router.h(b.target.href))},!0);